{% extends "layout_1x3.page.html" %}
{% import "paging.part.html" as paging %}

{%set pagetitle = 
    "Website blocking through legal means" %}

{% block col1_row1 %}
{%endblock%}

{% block col1_row2 %}
{%endblock%}

{% block col1_row3 %}
{%endblock%}

{% block bodyrow2 %}
<div class="row">
<div class="col-md-12">

<div class="row">
<div class="col-md-9">
    <h2>Recent legally-blocked sites</h2>
    <h4>{{urlcount}} site{{'s' if urlcount != 1 else '' }} detected</h4>
</div>
<div class="col-md-3">
    <a style="margin-top: 20px" href="{{ url_for('.export_blocks') }}" class="btn btn-default btn-lg"><span class="glyphicon glyphicon-save"></span> Export</a>
</div>
</div>

<ul>
{% for region in ('eu','gb','no','nl','fr','at') %}
<li style="display: inline"><a href="{{ url_for('.legal_blocks', region=region, page=page) }}">{{ region|upper }}</a></li>
{% endfor %}
</ul>

<table class="table table-striped">
    <tr>
        <th>URL</th>
        <th>Network</th>
        <th>First Detected</th>
        <th>Last Checked</th>
    </tr>
    {% for row in blocks %}
    <tr>
        <td>{{ row.url }}</td>
        <td>{{ row.network_name }}</td>
        <td>{{ row.first_blocked | fmtime }}</td>
        <td>{{ row.last_blocked | fmtime }}</td>
    </tr>
    {% endfor %}
</table>

{{ paging.page_list('.legal_blocks', page, pagecount) }}

</div>
</div>
{% endblock %}
